class ProfileEditor{static async update(t,e,r,a=null){try{var i=[[e,r]],o=e.split("_"),s=new FormData,n=new URL(document.querySelector('a[href*="/login?logout=1&"]').getAttribute("href"),window.location.origin).searchParams.get("tid"),c=(s.set("id",o[o.length-1]),s.set("user",t),s.set("active",1),s.set("content",JSON.stringify(i)),s.set("tid",n),await this.submit(s));a&&a(c)}catch(t){console.error("Profile update failed:",t)}}static async submit(t){t=await fetch("/ajax_profile.php?jsoncallback=jQuery172039981434232682966_1753299839848",{method:"POST",body:t});if(t.ok)return t.text();throw new Error("HTTP error: "+t.status)}}
